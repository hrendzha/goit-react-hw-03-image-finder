{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/imagesApi.js","App.js","js/scrollToNewImages.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","this","className","s","searchBar","searchForm","type","btn","btnLabel","input","autoComplete","autoFocus","required","placeholder","onChange","Component","ImageGalleryItem","src","photoDescr","onLargeImgOpen","largeImageUrl","image","alt","onClick","ImageGallery","photos","gallery","map","id","webformatURL","largeImageURL","tags","galleryItem","Button","Modal","onEscPress","code","onModalClose","window","addEventListener","removeEventListener","overlay","modal","API_KEY","axios","defaults","baseURL","imagesApi","page","fetchWithQuery","searchParams","URLSearchParams","key","q","per_page","orientation","mage_type","get","then","res","data","hits","resetPage","App","isClickOnLoadMoreBtn","isLoaderVisible","isModalOpen","handleFormSubmit","a","console","log","handleLoadMoreBtnClick","prevState","handleLargeImgOpen","handleModalClose","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","Boolean","length","visible","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d8ded1a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\",\"galleryItem\":\"ImageGallery_galleryItem__zZSAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n    static propTypes = {\n        onSubmit: PropTypes.func.isRequired,\n    };\n\n    state = {\n        searchQuery: '',\n    };\n\n    handleChange = e => this.setState({ searchQuery: e.target.value });\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const { searchQuery } = this.state;\n        const { onSubmit } = this.props;\n\n        onSubmit(searchQuery);\n    };\n\n    render() {\n        const { searchQuery } = this.state;\n\n        return (\n            <header className={s.searchBar}>\n                <form className={s.searchForm} onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className={s.btn}>\n                        <span className={s.btnLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={s.input}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        required\n                        placeholder=\"Search images and photos\"\n                        value={searchQuery}\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ src, photoDescr, onLargeImgOpen, largeImageUrl }) {\n    return (\n        <img\n            className={s.image}\n            src={src}\n            alt={photoDescr}\n            onClick={() => onLargeImgOpen(largeImageUrl)}\n        />\n    );\n}\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    photoDescr: PropTypes.string.isRequired,\n    onLargeImgOpen: PropTypes.func.isRequired,\n    largeImageUrl: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ photos, onLargeImgOpen }) {\n    return (\n        <ul className={s.gallery}>\n            {photos.map(\n                ({\n                    id,\n                    webformatURL: src,\n                    largeImageURL: largeImageUrl,\n                    tags: photoDescr,\n                }) => (\n                    <li className={s.galleryItem} key={id}>\n                        <ImageGalleryItem\n                            src={src}\n                            photoDescr={photoDescr}\n                            onLargeImgOpen={onLargeImgOpen}\n                            largeImageUrl={largeImageUrl}\n                        />\n                    </li>\n                ),\n            )}\n        </ul>\n    );\n}\n\nImageGallery.propTypes = {\n    photos: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n        }).isRequired,\n    ).isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n    return (\n        <button className={s.btn} type=\"button\" onClick={onClick}>\n            Load more\n        </button>\n    );\n}\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n    static propTypes = {\n        largeImageUrl: PropTypes.string.isRequired,\n        onModalClose: PropTypes.func.isRequired,\n    };\n\n    onEscPress = e => {\n        if (e.code !== 'Escape') return;\n        this.props.onModalClose();\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.onEscPress);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.onEscPress);\n    }\n\n    render() {\n        const { largeImageUrl, onModalClose } = this.props;\n\n        return (\n            <div className={s.overlay} onClick={onModalClose}>\n                <div className={s.modal}>\n                    <img src={largeImageUrl} alt=\"\" />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nvar API_KEY = '23262939-6c0fd5a3da3fb9e3fdc7add54';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst imagesApi = {\n    searchQuery: '',\n    page: 0,\n\n    fetchWithQuery(searchQuery = this.searchQuery) {\n        this.searchQuery = searchQuery;\n        this.page += 1;\n\n        const searchParams = new URLSearchParams({\n            key: API_KEY,\n            q: searchQuery,\n            page: this.page,\n            per_page: 12,\n            orientation: 'horizontal',\n            mage_type: 'photo',\n        });\n\n        return axios.get(`?${searchParams}`).then(res => res.data.hits);\n    },\n\n    resetPage() {\n        this.page = 0;\n    },\n};\n\nexport { imagesApi };\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport { imagesApi } from './services/imagesApi';\nimport scrollToNewImages from './js/scrollToNewImages';\n\nclass App extends Component {\n    state = {\n        photos: [],\n        isClickOnLoadMoreBtn: false,\n        isLoaderVisible: false,\n        isModalOpen: false,\n        largeImageUrl: '',\n    };\n\n    handleFormSubmit = async searchQuery => {\n        try {\n            this.setState({\n                isLoaderVisible: true,\n                isClickOnLoadMoreBtn: false,\n            });\n\n            imagesApi.resetPage();\n            const photos = await imagesApi.fetchWithQuery(searchQuery);\n\n            this.setState({\n                photos,\n                isLoaderVisible: false,\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    handleLoadMoreBtnClick = async () => {\n        try {\n            this.setState({\n                isLoaderVisible: true,\n                isClickOnLoadMoreBtn: true,\n            });\n\n            const photos = await imagesApi.fetchWithQuery();\n\n            this.setState(prevState => ({\n                photos: [...prevState.photos, ...photos],\n                isLoaderVisible: false,\n            }));\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        const { isClickOnLoadMoreBtn } = this.state;\n\n        if (isClickOnLoadMoreBtn) {\n            scrollToNewImages();\n        }\n    }\n\n    handleLargeImgOpen = largeImageUrl =>\n        this.setState({ isModalOpen: true, largeImageUrl });\n\n    handleModalClose = () => this.setState({ isModalOpen: false });\n\n    render() {\n        const { photos, isLoaderVisible, isModalOpen, largeImageUrl } =\n            this.state;\n\n        return (\n            <>\n                <Searchbar onSubmit={this.handleFormSubmit} />\n                <ImageGallery\n                    photos={photos}\n                    onLargeImgOpen={this.handleLargeImgOpen}\n                />\n                {Boolean(photos.length) && !isLoaderVisible && (\n                    <Button onClick={this.handleLoadMoreBtnClick} />\n                )}\n                <Loader\n                    className=\"loader\"\n                    visible={isLoaderVisible}\n                    type=\"ThreeDots\"\n                    color=\"#00BFFF\"\n                    height={80}\n                    width={80}\n                />\n                {isModalOpen && (\n                    <Modal\n                        largeImageUrl={largeImageUrl}\n                        onModalClose={this.handleModalClose}\n                    />\n                )}\n            </>\n        );\n    }\n}\n\nexport default App;\n","export default function scrollToNewImages() {\n    window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n    });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__3w0z0\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"btn\":\"Searchbar_btn__37Gab\",\"btnLabel\":\"Searchbar_btnLabel__2RFBj\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}